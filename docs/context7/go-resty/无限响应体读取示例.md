# 无限响应体读取示例

Source: https://github.com/go-resty/docs/blob/main/content/docs/unlimited-response-body-reads.md

演示如何在 Go Resty 中启用无限响应体读取、自动解析响应并将响应保存到文件。此功能会将响应体保留在内存中以供多次读取。

```go
loginResponseFile := "login-response.txt"

res, err := client.R().
    SetHeader(hdrContentTypeKey, "application/json").
    SetBody(&User{Username: "testuser", Password: "testpass"}).
    SetResponseBodyUnlimitedReads(true).
    SetResult(&LoginResponse{}).
    SetOutputFileName(loginResponseFile).
    Post("/login")

fmt.Println(err)

fmt.Println("")
loginResponse := res.Result().(*LoginResponse)
fmt.Println("ID:", loginResponse.ID)
fmt.Println("Message:", loginResponse.Message)

fmt.Println("")
loginResponseCnt, _ := os.ReadFile(loginResponseFile)
fmt.Println("File Content:", string(loginResponseCnt))
```

--------------------------------
